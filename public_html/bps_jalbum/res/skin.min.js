/* 
	Turtle skin by Laszlo Molnar (C) 2011
	version 3.4.2
*/
var DEBUG=!1,UNDEF="undefined",OBJECT="object",NOLINK="javascript:void(0)",SHOCKWAVE_FLASH="Shockwave Flash",SHOCKWAVE_FLASH_AX="ShockwaveFlash.ShockwaveFlash",FLASH_MIME_TYPE="application/x-shockwave-flash",vendor=$.browser.msie&&"-ms-"||$.browser.webkit&&"-webkit-"||$.browser.mozilla&&"-moz-"||$.browser.opera&&"-o-"||"";String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.startsWith=function(b){return 0===this.indexOf(b)};
String.prototype.endsWith=function(b){return this.substring(this.length-b.length)===b};String.prototype.getExt=function(){var b=this.lastIndexOf(".");return 0>=b||b>=this.length-1?"":this.substring(b+1).toLowerCase()};String.prototype.fixExtension=function(){return this.replace(/.gif$/gi,".png").replace(/.tif+$/gi,".jpg")};var htmlregex=[[/<br>/gi,"\n"],[/\&amp;/gi,"&"],[/\&lt;/gi,"<"],[/\&gt;/gi,">"],[/\&(m|n)dash;/gi,"-"],[/\&apos;/gi,"'"],[/\&quot;/gi,'"']];
String.prototype.cleanupHTML=function(){for(var b=this,i=htmlregex.length-1;0<=i;i--)b=b.replace(htmlregex[i][0],htmlregex[i][1]);return b};String.prototype.stripHTML=function(){return this.replace(/<\/?[^>]+>/gi,"")};String.prototype.stripQuote=function(){return this.replace(/\"/gi,"&quot;")};String.prototype.appendSep=function(b,i){return(this.length?this+(i||" &middot; "):"")+b};
String.prototype.rgb2hex=function(){if("#"===this.charAt(0))return this;for(var b,i=this.match(/\d+/g),m="",k=0;k<i.length&&3>k;k++)b=parseInt(i[k]).toString(16),m+=(2>b.length?"0":"")+b;return"#"+m};String.prototype.template=function(b){if(!b)return this;for(var i=this,m=0;m<b.length;m++)i=i.replace(RegExp("\\{"+m+"\\}","gi"),b[m]);return i};Math.minMax=function(b,i,m){return $.isNumeric(i)?i<b?b:i>m?m:i:b};var _logel,_logover=!1,_lastlog,_lastcnt=1;
log=function(b){DEBUG&&!_logover&&(_logel||(_logel=$('<div id="log" style="position:fixed;left:0;top:0;width:200px;bottom:0;overflow:auto;padding:10px;background-color:rgba(0,0,0,0.5);color:#fff;font-size:15px;z-index:99999"></div>').hover(function(){_logover=!0},function(){_logover=!1}).appendTo("body")),b===_lastlog?_logel.children(":first").empty().html(_lastlog+" ("+ ++_lastcnt+")"):($('<div style="height:2em;overflow:hidden;">'+b+"</div>").prependTo(_logel),_lastlog=b,_lastcnt=1))};
checkFlash=function(b){var i=navigator,m=[1,0,0],k,b=b?b.split("."):[0,0,0];if(typeof i.plugins!=UNDEF&&typeof i.plugins[SHOCKWAVE_FLASH]==OBJECT){if((k=i.plugins[SHOCKWAVE_FLASH].description)&&!(typeof i.mimeTypes!=UNDEF&&i.mimeTypes[FLASH_MIME_TYPE]&&!i.mimeTypes[FLASH_MIME_TYPE].enabledPlugin))k=k.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),m[0]=parseInt(k.replace(/^(.*)\..*$/,"$1"),10),m[1]=parseInt(k.replace(/^.*\.(.*)\s.*$/,"$1"),10),m[2]=/[a-zA-Z]/.test(k)?parseInt(k.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),
10):0}else if(typeof window.ActiveXObject!=UNDEF)try{var r=new ActiveXObject(SHOCKWAVE_FLASH_AX);if(r&&typeof r.GetVariable!=UNDEF&&(k=r.GetVariable("$version")))k=k.split(" ")[1].split(","),m[0]=parseInt(k[0],10),m[1]=parseInt(k[1],10),m[2]=parseInt(k[2],10)}catch(A){}return m[0]>b[0]||m[0]==b[0]&&m[1]>b[1]||m[0]==b[0]&&m[1]==b[1]&&m[2]>=b[2]};
typeof Search!==UNDEF&&(Search.start=function(b){var i="FORM"===b.nodeName?$(b).find("input[type=search]").val().trim():$(b).text().trim(),m=$("<div>",{"class":"searchresults"}),k=0,r,A,x,P,v,Q=RegExp("("+i.replace(/\s/g,"|")+")","gi");if(Search.data&&$.isArray(Search.data)&&Search.data.length&&i&&!(2>i.length)){m.append($("<h4>",{html:Search.text.title+" &quot;<b>"+i+"</b>&quot;"}));for(i=0;i<Search.data.length;i++)for(r=0;r<Search.data[i][1].length;r++)if(Q.test(Search.data[i][1][r])){v=Search.data[i][1][r].split(Search.sep);
P=Search.rootPath&&"."!==Search.rootPath?Search.rootPath+"/":"";A=P+(Search.data[i][0]?Search.data[i][0]+"/":"");x=$("<a>",{href:A+(v[0].startsWith("#")?Search.indexName:"")+v[0]}).appendTo(m);x.append($("<aside>").append($("<img>",{src:v[0].startsWith("#")?v[0].toLowerCase().match(/.+\.(jpg|png)$/)?A+"thumbs/"+v[0].substr(1):P+"res/unknown.png":A+Search.folderThumb})));v[1]&&x.append($("<h5>",{text:v[1]}));for(A=2;A<v.length;A++)x.append($("<p>",{text:v[A]}));k++}$(b).parents(".hint:first").fadeOut(100,
function(){$(this).remove()});k?setTimeout(function(){m.find("a:first").focus()},250):m.append($("<p>",{text:Search.text.notFound}));m.alertBox([{t:Search.text.close}],{width:400});return!1}});
(function(b){b.fn.logEvents=function(a){var d=a||"mousedown mouseup mouseover mouseout mousewheel dragstart click blur focus, load unload reset submit change abort cut copy paste selection drag drop orientationchange touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend";return this.each(function(){b(this).on(d,function(a){a.target.id!=="log"&&log(a.type+' <span style="padding:0 4px;font-size:0.8em;background-color:#000;border-radius:4px;"><b>'+a.target.nodeName.toLowerCase()+
"</b>"+(a.target.id?":"+a.target.id:"")+"</span>"+(a.relatedTarget?' <span style="padding:0 4px;font-size:0.8em;background-color:#800;border-radius:4px;"><b>'+a.relatedTarget.nodeName.toLowerCase()+"</b>"+(a.relatedTarget.id?":"+a.relatedTarget.id:"")+"</span>":""));return true})})};b.fn.trackCss=function(a,d,c){var c=c||20,g=new Date;return this.each(function(){var h=b(this),f=function(a){var b=new Date-g;log(b+"&nbsp;::&nbsp;"+a+" = "+h.css(a));b>d&&clearInterval(n)},n=setInterval(function(){if(b.isArray(a))for(var c=
0;c<a.length;c++)f(a[c]);else f(a)},c)})};b.fn.readData=function(a,d){if(a==null||d==null)return this;var d=d.split(","),c,g=d.length,h;return this.each(function(){for(c=0;c<g;c++)if((h=b(this).data(d[c]))!=null)a[d[c]]=h})};b.extend(b.support,{orientation:"orientation"in window,touch:"ontouchend"in document,cssTransitions:"WebKitTransitionEvent"in window,cssTable:!b.browser.msie||b.browser.version>=8,cssFilter:b.browser.msie&&b.browser.version<=8,flash:checkFlash("9.0.0")});b.extend(jQuery.easing,
{easeOutBack:function(a,b,c,g,h,f){f==null&&(f=1.70158);return g*((b=b/h-1)*b*((f+1)*b+f)+1)+c},easeOutCubic:function(a,b,c,g,h){return g*((b=b/h-1)*b*b+1)+c}});b.fn.showin=function(){return this.each(function(){b(this).css("display","inline-block")})};b.fn.getDim=function(){var a=b(this).eq(0),d={width:a.width(),height:a.height()};if((d.width===0||d.height===0)&&a.css("display")==="none"){var c=a.css("position"),g=a.css("left");a.css({position:"absolute",left:"-10000px",display:"block"});d.width=
a.width();d.height=a.height();a.css({display:"none",position:c,left:g})}return d};var i=["DOMMouseScroll","mousewheel"];if(b.event.fixHooks)for(var m=i.length;m;)b.event.fixHooks[i[--m]]=b.event.mouseHooks;b.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=i.length;a;)this.addEventListener(i[--a],k,false);else this.onmousewheel=k},teardown:function(){if(this.removeEventListener)for(var a=i.length;a;)this.removeEventListener(i[--a],k,false);else this.onmousewheel=null}};
b.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}});var k=function(a){var d=a||window.event,c=[].slice.call(arguments,1),g=0,h=0,f=0,a=b.event.fix(d);a.type="mousewheel";d.wheelDelta?g=d.wheelDelta/120:d.detail&&(g=-d.detail/3);f=g;if(d.axis!==void 0&&d.axis===d.HORIZONTAL_AXIS){f=0;h=-1*g}d.wheelDeltaY!==void 0&&(f=d.wheelDeltaY/120);d.wheelDeltaX!==void 0&&(h=-1*d.wheelDeltaX/120);c.unshift(a,
g,h,f);return(b.event.dispatch||b.event.handle).apply(this,c)},r=function(a,b,c){if(arguments.length>1&&/^(string|number|boolean)$/.test(typeof b)){var g=new Date;g.setTime(g.getTime()+(typeof c!=="number"?1:c)*36E5);document.cookie=encodeURIComponent(a)+"="+(""+b)+"; expires="+g.toGMTString()+"; path=/";return b}if(a)for(var a=a+"=",g=document.cookie.split(";"),h,f=0;f<g.length;f++){h=g[f].trim();if(h.indexOf(a)===0){h=h.substring(a.length);return/^(true|yes)$/.test(h)?true:/^(false|no)$/.test(h)?
false:/^([\d.]+)$/.test(h)?parseFloat(h):h}}return null};(function(){function a(a){function c(a){var d=RegExp(b.map(a,encodeURIComponent).join("|"),"ig");return function(a){return a.replace(d,decodeURIComponent)}}a=b.extend({unescape:false},a||{});d.encoder=function(a){return a===true?function(a){return a}:typeof a=="string"&&(a=c(a.split("")))||typeof a=="function"?function(b){return a(encodeURIComponent(b))}:encodeURIComponent}(a.unescape)}var d={put:function(a,b){(b||window).location.hash=this.encoder(a)},
get:function(a){a=(a||window).location.hash.replace(/^#/,"");try{return b.browser.mozilla?a:decodeURIComponent(a)}catch(c){return a}},encoder:encodeURIComponent},c={id:"__jQuery_history",init:function(){var a='<iframe id="'+this.id+'" style="display:none" src="javascript:false;" />';b("body").prepend(a);return this},_document:function(){return b("#"+this.id)[0].contentWindow.document},put:function(a){var b=this._document();b.open();b.close();d.put(a,b)},get:function(){return d.get(this._document())}},
g={base:{callback:void 0,type:void 0,check:function(){},load:function(){},init:function(b,c){a(c);h.callback=b;h._options=c;h._init()},_init:function(){},_options:{}},timer:{_appState:void 0,_init:function(){var a=d.get();h._appState=a;h.callback(a);setInterval(h.check,100)},check:function(){var a=d.get();if(a!=h._appState){h._appState=a;h.callback(a)}},load:function(a){if(a!=h._appState){d.put(a);h._appState=a;h.callback(a)}}},iframeTimer:{_appState:void 0,_init:function(){var a=d.get();h._appState=
a;c.init().put(a);h.callback(a);setInterval(h.check,100)},check:function(){var a=c.get(),b=d.get();if(b!=a)if(b==h._appState){h._appState=a;d.put(a);h.callback(a)}else{h._appState=b;c.put(b);h.callback(b)}},load:function(a){if(a!=h._appState){d.put(a);c.put(a);h._appState=a;h.callback(a)}}},hashchangeEvent:{_init:function(){h.callback(d.get());b(window).on("hashchange",h.check)},check:function(){h.callback(d.get())},load:function(a){d.put(a)}}},h=b.extend({},g.base);h.type=b.browser.msie&&(b.browser.version<
8||document.documentMode<8)?"iframeTimer":"onhashchange"in window?"hashchangeEvent":"timer";b.extend(h,g[h.type]);b.history=h})();b.fn.addScroll=function(a){a=b.extend({},b.fn.addScroll.defaults,a);return this.each(function(){var d,c=b(this),g=b(this).parent(),h,f,n,u,C,j,p,w,i=0,ka,H,m,k,v,M;c.css({position:"absolute",width:g.width-20});g.css({overflow:"hidden"});g.css("position")!=="absolute"&&g.css({position:"relative"});h=b("<div>",{"class":a.upbtn}).appendTo(g);f=b("<div>",{"class":a.dnbtn}).appendTo(g);
n=b("<div>",{"class":a.scbar}).appendTo(g);u=b("<div>").appendTo(n);C=h.add(f).add(n);C.hide();var y=function(){return c.position().top},D=function(a){return Math.round((n.height()-6)*-(a==null?y():a)/j)+3},N=function(){return Math.max(Math.round((n.height()-6)*p/j),a.dragMinSize)},F=function(b){b==null&&(b=y());h.css({opacity:b?1:a.disabledOpacity});f.css({opacity:b===p-j?a.disabledOpacity:1})},I=function(){return false},W=function(){var a=j,b=p;j=c.height();p=g.height();if(a!==j||b!==p)if(j<=p){c.css({top:0}).off("selectstart",
I);C.hide()}else{c.position().top<p-j&&c.css({top:p-j});u.css({top:D(),height:N()});c.on("selectstart",I);C.show();F()}},J=function(b){clearInterval(w);if(!(p>=j)){b=Math.minMax(p-j,b,0);u.stop(true,true).animate({top:D(b)},a.speed,a.effect);c.stop(true,true).animate({top:b},a.speed,a.effect,function(){F(b)})}};h.click(function(){J(y()+p);return false});f.click(function(){J(y()-p);return false});n.click(function(a){a.pageY<u.offset().top?J(y()+p):a.pageY>u.offset().top+u.height()&&J(y()-p);return false});
a.enableMouseWheel&&c.mousewheel(function(b,c){c&&J(y()+a.wheelIncr*(c<0?-1:1));return false});var r=function(a){u.css({top:Math.minMax(2,Math.round(a.pageY-u.data("my")),n.height()-u.height()-2)});c.css({top:Math.minMax(p-j,-Math.round((u.position().top-3)*j/(n.height()-6)),0)});F();return false},K=function(){b(document).off("mousemove",r).off("mouseup",K);return false};u.on("mousedown",function(a){b(this).data("my",Math.round(a.pageY)-b(this).position().top);b(document).on({mousemove:r,mouseup:K});
return false});var T=function(a){return i=a.touches&&a.touches.length>0?a.touches[0].clientY:a.clientY?a.clientY:i},A=function(){v=v+Math.round(k/20);var a=m+v;if(a>0||a<M)clearInterval(w);else{c.css({top:a});u.css({top:D(),height:N()});k=k*0.8;if(Math.abs(k)<10){k=0;clearInterval(w)}}},x=function(a){if(H){if(a=T(a)-H){c.data("dragOn",true);c.css({top:Math.minMax(M,ka+a,0)});u.css({top:D(),height:N()})}}else H=T(a);return false},O=function(a){m=y();var a=T(a)-H,d=(new Date).getTime()-tT;k=1E3*a/d;
w=setInterval(A,50);if(b.support.touch)this.ontouchend=this.ontouchmove=null;else b(document).off({mousemove:x,mouseup:O});setTimeout(function(){c.data("dragOn",false)},20);return Math.abs(a)<4&&d<300},z=function(a){if(p>=j||(a.type==="touchstart"||a.type==="touchmove")&&(!a.touches||a.touches.length>1||c.is(":animated")))return true;clearInterval(w);te=a;ka=y();H=T(a);tT=(new Date).getTime();v=0;M=p-j;if(b.support.touch){b(a.target).closest("a").focus();this.ontouchmove=x;this.ontouchend=O;return true}b(document).on({mousemove:x,
mouseup:O});return false};if(b.support.touch)c[0].ontouchstart=z;else c.on("mousedown",z);b(window).resize(function(){clearTimeout(d);d=setTimeout(W,50)});d=setTimeout(W,10);a.refresh&&setInterval(function(){b("[role=gallery]").is(":visible")||W()},a.refresh);c.attr("role","scroll").data("dragOn",false).on("adjust",W);C.on("selectstart",I);(b.isFunction(a.enableKeyboard)||a.enableKeyboard)&&b(document).keydown(function(c){if(document.activeElement&&document.activeElement.nodeName==="INPUT"||b.isFunction(a.enableKeyboard)&&
!a.enableKeyboard())return true;switch(c?c.keyCode:window.event.keyCode){case 33:J(y()+p);return false;case 34:J(y()-p);return false}return true})})};b.fn.addScroll.defaults={upbtn:"scrup",dnbtn:"scrdn",scbar:"scrbar",dragMinSize:10,speed:250,effect:"easeOutBack",disabledOpacity:0.3,wheelIncr:50,enableKeyboard:true,enableMouseWheel:true,refresh:0};b.fn.scrollThumbs=function(a){a=b.extend({},b.fn.scrollThumbs.defaults,a);return this.each(function(){var d=b(this),c=b(this).parent(),g=0,h,f,n,u,C,j,
p,w,i=b("<div>",{"class":a.scleft}).insertAfter(c),m=b("<div>",{"class":a.scright}).insertAfter(c),H=function(b){b=b==null?d.position().left:b;i.css({opacity:b<0?1:a.disabledOpacity});m.css({opacity:c.width()<b+d.width()?1:a.disabledOpacity})},R=function(g){var h=c.width(),f=d.width();if(h&&f&&!(h>=f)&&b.isNumeric(g)){g>0?g=0:g<h-f&&(g=h-f);H(g);d.stop(true,false).animate({left:g},a.speed,a.effect)}};i.click(function(){R(d.position().left+c.width());return false});m.click(function(){R(d.position().left-
c.width());return false});d.find("a").on("setactive",function(){var g=b(this).parent()===d?b(this):b(this).parent(),h=g.position().left,g=g.outerWidth(true),f=Math.round(g*a.headRoom),p=d.position().left,j=c.width();d.find("a.active").removeClass("active");b(this).addClass("active");if(!(j>d.width())){if(h>j-g-f-p)p=Math.max(j-g-f-h,j-d.width());else if(h<-p+f)p=-h+f;else return;R(p)}});a.enableMouseWheel&&d.mousewheel(function(a,b){b&&R(d.position().left+c.width()*(b<0?-1:1));return false});H();
var k=function(a){return g=a.touches&&a.touches.length>0?a.touches[0].clientX:a.clientX?a.clientX:g},v=function(){j=j+Math.round(C/20);var a=u+j;if(a>0||a<p)clearInterval(w);else{d.css({left:a});C=C*0.8;if(Math.abs(C)<10){C=0;clearInterval(w)}}},r=function(a){if(f){if(a=k(a)-f){d.data("dragOn",true);d.css({left:Math.minMax(p,h+a,0)})}}else f=k(a);return false},y=function(a){u=d.position().left;var a=k(a)-f,c=(new Date).getTime()-n;C=1E3*a/c;w=setInterval(v,50);if(b.support.touch)this.ontouchend=this.ontouchmove=
null;else b(document).off({mousemove:r,mouseup:y});setTimeout(function(){d.data("dragOn",false)},20);return Math.abs(a)<4&&c<300},D=function(a){if((a.type==="touchstart"||a.type==="touchmove")&&(!a.touches||a.touches.length>1||d.is(":animated")))return true;clearInterval(w);te=a;h=d.position().left;f=k(a);n=(new Date).getTime();j=0;p=c.width()-d.width();if(b.support.touch){b(a.target).closest("a").focus();this.ontouchmove=r;this.ontouchend=y;return true}b(document).on({mousemove:r,mouseup:y});return false};
if(b.support.touch)d[0].ontouchstart=D;else d.on("mousedown",D);d.attr("role","scroll").data("dragOn",false);d.add(i).add(m).on("selectstart",function(a){a.preventDefault();return false})})};b.fn.scrollThumbs.defaults={scleft:"scleft",scright:"scright",speed:1500,incr:100,effect:"easeOutBack",headRoom:0.67,disabledOpacity:0.3,enableMouseWheel:true};b.fn.addSwipe=function(a,d,c){c=b.extend({},b.fn.addSwipe.defaults,c);return this.each(function(){var g=b(this),h=0,f=0,n=0,u=0,C,j,p,w,i,m,H,R,k,v,r,
y;g.attr("draggable","true");var D=function(a){if(a.touches&&a.touches.length>0){h=a.touches[0].clientX;f=a.touches[0].clientY}else if(a.clientX){h=a.clientX;f=a.clientY}},x=function(a){D(a);n=h;u=f},F=function(a){if(n){D(a);y?g.css({left:h-n+C}):g.css({left:h-n+C,top:f-u+j})}else x(a);return false},I=function(){return false},A=function(i){D(i);var k=(new Date).getTime()-p,i=h-n;if(b.support.touch)this.ontouchend=this.ontouchmove=null;else b(document).off("mousemove",F).off("mouseup click",A);if(R<
w)if(Math.abs(i)<c.treshold){y?g.animate({left:C},200):g.animate({left:C,top:j},200);g.trigger("click")}else{y?g.animate({left:g.position().left+Math.round(333*(h-n)/k)},500,"easeOutCubic"):g.animate({left:g.position().left+Math.round(333*(h-n)/k),top:g.position().top+Math.round(333*(f-u)/k)},500,"easeOutCubic");i<0?b.isFunction(a)&&a.call():b.isFunction(d)&&d.call()}else{y?g.animate({left:Math.minMax(v,g.position().left+Math.round(333*(h-n)/k),c.margin)},500,"easeOutCubic"):g.animate({left:Math.minMax(v,
g.position().left+Math.round(333*(h-n)/k),c.margin),top:Math.minMax(r,g.position().top+Math.round(333*(f-u)/k),c.margin)},500,"easeOutCubic");k=g.position().left;i<0?k+R<m&&b.isFunction(a)&&a.call():k>H&&b.isFunction(d)&&d.call()}return false},J=function(a){if((a.type==="touchstart"||a.type==="touchmove")&&(!a.touches||a.touches.length>1||g.is(":animated")))return true;x(a);X(a)},X=function(a){g.stop(true,false);C=g.position().left;j=g.position().top;p=(new Date).getTime();w=g.parent().outerWidth();
i=g.parent().outerHeight();m=w*(1-c.oversizeTreshold);H=w*c.oversizeTreshold;R=g.outerWidth();k=g.outerHeight();v=w-c.margin-R;r=i-c.margin-k;y=k<=i;if(b.support.touch){this.ontouchmove=F;this.ontouchend=A;return true}g.off("click");g.click(I);b(document).on({mousemove:F,mouseup:A});a.cancelBubble=true;return false};if(b.support.touch)this.ontouchstart=J;else g.on({dragstart:X,mousedown:x});g.on("dragcancel",function(){g.stop(true,false).animate({left:C,top:j},200);return false});g.on("unswipe",function(){if(b.support.touch)this.ontouchstart=
this.ontouchend=this.ontouchmove=null;else{b.isFunction(g.noAction)&&g.off(I);b.isFunction(g.dragStart)&&g.off(X);b(document).off("mousemove",F).off("mouseup",A)}});g.on("selectstart",I)})};b.fn.addSwipe.defaults={treshold:40,oversizeTreshold:0.15,margin:15};var A=ALIGN_TOP=0,x=ALIGN_MIDDLE=1,P=ALIGN_BOTTOM=2;b.fn.alignTo=function(a,d){d=b.extend({},b.fn.alignTo.defaults,d);typeof a==="string"&&(a=b(a));if(a instanceof b&&a.length){var c=a.offset(),g=a.outerWidth(),h=a.outerHeight();return b(this).each(function(){var f=
b(this).outerWidth(),n=b(this).outerHeight(),u=Math.round(c.left+d.toX*g/2+(d.toX-1)*d.gap);ry=Math.round(c.top+d.toY*h/2+(d.toY-1)*d.gap);l=Math.round(u-d.posX*f/2);t=Math.round(ry-d.posY*n/2);t<0?d.toX!==x?t=0:d.toY!==ALIGN_BOTTOM&&(t=c.top+a.outerHeight()+d.gap):t+n>b(window).height()&&(d.toX!==x?t=b(window).height()-n:d.toY!==ALIGN_TOP&&(t=c.top-n-d.gap));l<0?d.toY!==ALIGN_MIDDLE?l=0:d.toX!=P&&(l=c.left+a.outerWidth()+d.gap):l+f>b(window).width()&&(d.toY!==ALIGN_MIDDLE?l=b(window).width()-f:d.toX!=
A&&(l=c.left-f-d.gap));b(this).css({position:"absolute",left:l,top:t})})}};b.fn.alignTo.defaults={gap:5,posX:x,posY:ALIGN_BOTTOM,toX:x,toY:ALIGN_TOP};b.fn.addHint=function(a,d){if(a&&typeof a!=="string"&&!a.jquery){d=a;a=null}var d=b.extend({},b.fn.addHint.defaults,d),c=function(){var a=b("#"+d.id);a.length||(a=b("<div>",{"class":d.id,id:d.id}).hide().appendTo("body"));return a};return this.each(function(){var g=b(this),h=a||g.attr("title"),f,n=false,u=false,i=!(h&&h.jquery),j;if(h&&h.length){var p=
function(){if(i){j=c();j.empty().html(h)}else j=h.show();j.off("mouseover",a);j.off("mouseout",p);var a=function(){f=clearTimeout(f);n=true;j.stop(true,true).css({opacity:1}).show()},p=function(){if(!u){f=clearTimeout(f);n=false;m()}};j.on("mouseover",a);j.on("mouseout",p);j.find("input").focus(function(){u=true;a()}).blur(function(){u=false});j.stop(true,true).alignTo(g,{posX:d.posX,posY:d.posY,toX:d.toX,toY:d.toY});j.css({opacity:0}).show().animate({opacity:1},200);b.support.touch?f=setTimeout(m,
d.stay):n=true},w=function(){n=false;f=clearTimeout(f);m()},m=function(){!n&&(j&&j.length)&&j.stop(true,false).animate({opacity:0},200,function(){b(this).hide()})};h.jquery?h.addClass(d.id):g.removeAttr("title");g.on(b.support.touch?{touchstart:p}:{"focus mouseenter":p,"blur mouseleave":w})}})};b.fn.addHint.defaults={id:"hint",stay:3E3,posX:x,posY:ALIGN_BOTTOM,toX:x,toY:ALIGN_TOP};b.fn.popupBox=function(a){a=b.extend({},b.fn.popupBox.defaults,a);b("#"+a.id).remove();var d,c=b("<div>",{id:a.id}).appendTo("body"),
g=b("<div>",{"class":"panel"}).appendTo(c);g.css({width:a.width}).append(this);var h=function(){c.fadeOut(250,function(){b(this).remove()})};c.fadeIn(250,function(){d=setTimeout(h,a.length)});g.css({marginTop:Math.max(Math.round((b(window).height()-g.outerHeight())*0.4),0)}).hover(function(){d=clearTimeout(d);b(this).stop(true,false).css("opacity",1)},function(){d=setTimeout(h,a.length)});return this};b.fn.popupBox.defaults={id:"modal",width:200,length:500};b.fn.alertBox=function(a,d){if(!b.isArray(a)){d=
a;a=null}d=b.extend({},b.fn.alertBox.defaults,d);b("#"+d.id).remove();var c=b("<div>",{id:d.id,role:"alertBox"}).appendTo("body"),g=b("<div>",{"class":"panel"}).appendTo(c),h,f;g.append(this);g.append(b("<a>",{"class":"close",href:NOLINK,text:" "}).click(function(){u();return false}));a&&(h=b("<div>",{"class":"buttons"}).appendTo(g));g.css({width:d.width});var n=function(a){if(document.activeElement&&document.activeElement.nodeName==="input"||b.isFunction(d.enableKeyboard)&&!d.enableKeyboard())return true;
var c=a?a.keyCode:window.event.keyCode;if(a===27)u();else if(h){var a=h.find("a.active"),g=f.index(a);switch(c){case 13:case 10:if(b.isFunction(a[0].handler)){a[0].handler.call();u();return false}case 39:i((g+1)%f.length);return false;case 37:i(g?g-1:f.length-1);return false}}return true},u=function(){b(document).off("keydown",n);c.fadeOut(250,function(){b(this).remove()})},i=function(a){f.each(function(c){b(this).toggleClass("active",c===a)})};if(a&&a.length){for(var j,p=0;p<a.length;p++){p&&h.append(" ");
j=b("<a>",{href:NOLINK}).appendTo(h);j.html(a[p].t);if(b.isFunction(a[p].h))j[0].handler=a[p].h;j.click(function(){this.handler!=null&&this.handler.call();u();return false})}f=h.children("a");f.last().addClass("active")}(b.isFunction(d.enableKeyboard)||d.enableKeyboard)&&b(document).keydown(n);c.fadeIn(250);g.css({marginTop:Math.max(Math.round((b(window).height()-g.outerHeight())*0.4),0)});return this};b.fn.alertBox.defaults={id:"modal",width:420,enableKeyboard:true};b.fn.equalHeight=function(){var a,
d,c=0,g=0,h;return(h=b(this).length)<2?this:this.each(function(f){a=b(this);if(a.offset().top===c){d=d?d.add(a):a;g=Math.max(g,a.height());f===h-1&&g&&d.height(g)}else{d&&g&&d.height(g);d=a;g=a.height();c=a.offset().top}})};b.fn.shareIt=function(a){var a=b.extend({},b.fn.shareIt.defaults,a),d=encodeURIComponent(a.useHash?window.location.href:window.location.href.split("#")[0]),c=encodeURIComponent(b("meta[name=title]").attr("content")||b("title").text()),g=encodeURIComponent(a.callTxt);encodeURIComponent(b("link[rel=img_src]").attr("href"));
return this.each(function(){var h=b(this);this.nodeName==="a"&&h.attr("href",NOLINK);var f=b("<div>",{"class":a.id}).hide();if(location.protocol.startsWith("file:")&&!DEBUG)f.html(a.localWarning);else{a.facebookLike&&!a.useHash&&f.append('<div class="likebtn"><iframe src="http://www.facebook.com/plugins/like.php?href='+d+"&amp;layout=button_count&amp;show_faces=false&amp;width=110&amp;action=like&amp;font=arial&amp;colorscheme="+a.likeBtnTheme+'&amp;height=20" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:110px; height:20px;" allowTransparency="true"></iframe></div>');
a.twitterTweet&&!a.useHash&&f.append('<div class="likebtn"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url='+d+"&text="+c+'" style="width:55px; height:20px;"></iframe></div>');if(a.googlePlus&&gapi&&!a.useHash){var n=b('<div class="g-plusone likebtn" data-size="medium" data-annotation="inline" data-href="'+d+'" data-width="110"></div>').appendTo(f);gapi.plusone.render(n[0])}a.tumblrBtn&&!a.useHash&&f.append('<div class="likebtn" id="tumblr"><a href="http://www.tumblr.com/share/photo?source='+
d+"&caption="+c+'" title="Share on Tumblr" style="display:inline-block; text-indent:-9999px; overflow:hidden; width:81px; height:20px; background:url(http://platform.tumblr.com/v1/share_1.png) top left no-repeat transparent;">Tumblr</div>');a.facebook&&f.append('<a href="http://www.facebook.com/sharer.php?u='+d+"&t="+c+'" class="facebook">Facebook</a>');a.twitter&&f.append('<a href="http://twitter.com/home?status='+g+": "+d+'" class="twitter">Twitter</a>');a.digg&&f.append('<a href="http://digg.com/submit?url='+
d+'" class="digg">Digg</a>');a.delicious&&f.append('<a href="http://delicious.com/save?url='+d+"&title="+c+'&v=5" class="delicious">Delicious</a>');a.myspace&&f.append('<a href="http://www.myspace.com/index.cfm?fuseaction=postto&t='+c+"&u="+d+'&l=3" class="myspace">MySpace</a>');a.stumbleupon&&f.append('<a href="http://www.stumbleupon.com/submit?url='+d+"&title="+c+'" class="stumbleupon">StumbleUpon</a>');a.reddit&&f.append('<a href="http://www.reddit.com/submit?url='+d+'" class="reddit">Reddit</a>');
f.children("a").attr("target","_blank");a.email&&f.append('<a href="mailto:?subject='+g+"&body="+c+"%0D%0A"+d+'" class="email">Email</a>')}h.addHint(f.appendTo("body"),a.pos).on("destroy",function(){f.remove()})})};b.fn.shareIt.defaults={id:"shares",useHash:true,likeBtnTheme:"light",facebookLike:true,twitterTweet:true,googlePlus:true,tumblrBtn:true,facebook:true,twitter:true,digg:true,delicious:true,myspace:true,stumbleupon:true,reddit:true,email:true,callTxt:"Found this page",pos:{posX:1,posY:2,
toX:1,toY:0},localWarning:"Can't share local albums. Please upload your album first!"};b.fn.addRegions=function(a,d,c){if(a&&a.length&&d){c=b.extend({},b.fn.addRegions.defaults,c);a.width();a.height();var g=[];(function(){var a,b,c,u,i,j,p=d.split("::");for(a=0;a<p.length;a++){b=p[a].split(";");b.length>4&&(b[0].length&&(c=parseFloat(b[1]))!=null&&(u=parseFloat(b[2]))!=null&&(i=parseFloat(b[3]))!=null&&(j=parseFloat(b[4]))!=null)&&g.push([b[0],(c-i/2)*100+"%",(u-j/2)*100+"%",i*100+"%",j*100+"%"])}})();
return!g.length?this:this.each(function(){var d=b(this),f,n;f=parseInt(d.css("padding-top"));this.nodeName==="a"&&d.attr("href",NOLINK);var u=b("<div>",{"class":c.id}).hide(),i=b("<div>",{"class":c.id+"-cont"}).css({left:f,top:f,right:f,bottom:f});for(m=0;m<g.length;m++){f=b('<a href="'+NOLINK+'">'+g[m][0]+"</a>").appendTo(u);n=b("<a>").css({left:g[m][1],top:g[m][2],width:g[m][3],height:g[m][4]}).append(b("<span>",{text:g[m][0]})).appendTo(i);f.hover(function(){i.children("a").eq(b(this).index()).addClass(c.active)},
function(){i.children("a").eq(b(this).index()).removeClass(c.active)});typeof Search!==UNDEF&&n.click(function(){Search.start(this);return false})}d.addHint(u.appendTo("body"),c.pos).on("destroy",function(){u.remove()});d.hasClass(c.active)&&i.addClass(c.active);d.click(function(){b(this).add(i).toggleClass(c.active)});a.append(i)})}};b.fn.addRegions.defaults={id:"regions",active:"active",pos:{posX:1,posY:2,toX:1,toY:0}};var v={flashVideo:[".flv.3gp.3g2",24],flash:[".swf",0],video:[".mp4.f4v.m4v",
24],html5Video:[".ogv.webm",30],qtVideo:[".qt.mov.mpg.mpeg.mpe",16],wmVideo:[".avi.wmv.asf.asx.wvx.mkv",64],audio:[".mp3.aac.m4a",24],html5audio:[".ogg.wav.ram.rm",30]},Q=function(a){a=a.getExt();if(!a.length)return null;for(var b in v)if(v[b][0].indexOf(a)>=0)return b;return null},Ca=function(a){return(a=Q(a))&&v[a][1]||0};b.fn.addPlayer=function(a){var a=b.extend({},b.fn.addPlayer.defaults,a),d=0,c=a.resPath?a.resPath+"/":"",g=function(a){var b="",c;for(c in a)b=b+('<param name="'+c+'" value="'+
a[c]+'">');return b},h=function(a){var c=b(a.target);if(c)if(b.browser.msie){c.hide();(function(){if(c.readyState==4){if(c){for(var a in c)typeof c[a]==="function"&&(c[a]=null);c.remove()}}else setTimeout(arguments.callee,10)})()}else c.remove()},f=function(h,f,n,i,u,m){var k="media"+d++;h.addClass("flplayer").css({width:n,height:i+v.flashVideo[1]});f="netstreambasepath="+encodeURIComponent(window.location.href.split("#")[0])+"&id="+k+"&file="+encodeURIComponent(f)+"&image="+encodeURIComponent(u)+
(m&&m.length?"&folder="+encodeURIComponent(m):"")+"&autostart="+a.auto+"&loop="+a.loop+"&screencolor="+encodeURIComponent(a.bgcolor)+"&controlbar.position=bottom";k='<object id="'+k+'" name="'+k+'" width="100%" height="100%" bgcolor="'+a.bgcolor+'" tabindex="0" ';k=b.browser.msie?k+'classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">'+g({movie:c+a.swf}):k+('type="application/x-shockwave-flash" data="'+c+a.swf+'">');k=k+g({allowfullscreen:true,allowscriptaccess:"always",seamlesstabbing:true,wmode:"opaque",
flashvars:f});return b(k).appendTo(h)},n=function(c,g,h,f){var n="em"+d++;c.addClass("emplayer");return b('<embed class="otherplayer" id="'+n+'" src="'+g+'" autostart="'+a.auto+'" loop="'+a.loop+'" width="'+h+'" height="'+f+'">').appendTo(c)},i=function(c,g,h,f,i,u){if((u=u!==UNDEF&&u)&&!Modernizr.audio||!u&&!Modernizr.video)return n(c,g,h,f);var m="ht"+d++,k=v.html5Video[1];c.addClass("h5player").css({width:h,height:f+k});c=b(u?"<audio>":"<video>",{id:m,src:g,width:h,height:f,controls:true,preload:"auto",
poster:i,autoplay:a.auto,loop:a.loop}).appendTo(c);if(b.isFunction(a.complete))c.on("ended",a.complete);return c},m=function(c,h,f,n){var i="wm"+d++,u=v.wmVideo[1];c.addClass("wmplayer").css({width:f,height:n+u});f='<object id="'+i+'" width="'+f+'" height="'+n+'" '+(b.browser.msie?'classid="CLSID:6BF52A52-394A-11D3-B153-00C04F79FAA6">':'type="application/x-ms-wmp" data="'+h+'">');f=f+g({URL:h,SendPlayStateChangeEvents:true,AutoStart:a.auto,StretchToFit:a.fit});b.browser.msie||(f=f+"<a></a>");el=b(f).appendTo(c);
if(b.isFunction(a.complete))el.on("playStateChange",function(){a.complete.call(this)});return el};return this.each(function(){var j=b(this),p=null;j.readData(a,"file,folder,width,height,poster");if(a.file){switch(Q(a.file)){case "flashVideo":if(!b.support.flash){j.append(a.flashInstall);break}case "video":if(b.support.flash){p=f(j,a.file,a.width,a.height,a.poster);break}case "html5Video":p=i(j,a.file,a.width,a.height,a.poster);break;case "qtVideo":var p=a.file,w=a.width,k=a.height,r="qt"+d++,H=v.qtVideo[1];
j.addClass("qtplayer").css({width:w,height:k+H});w='<object id="'+r+'" width="'+w+'" height="'+(k+H)+'" '+(b.browser.msie?'classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0">':'type="video/quicktime" data="'+p+'">');w=w+g({src:p,autoplay:a.auto,scale:a.fit?"tofit":"1",enablejavascript:true,postdomevents:true});j=b(w).appendTo(j);if(b.isFunction(a.complete))j.on("qt_ended",a.complete);p=j;break;case "wmVideo":p=m(j,a.file,a.width,
a.height);break;case "audio":if(b.support.flash){if(a.swf==b.fn.addPlayer.defaults.swf)p=f(j,a.file,a.width,a.height,a.poster,a.folder);else{p=a.file;w=a.width;k=a.height;r=a.folder;j.addClass("flplayer").css({width:w,height:k});p="file="+encodeURIComponent(p)+(r&&r.length?"&folder="+encodeURIComponent(r):"")+"&autostart="+a.auto+"&loop="+a.loop;w='<object width="100%" height="100%" bgcolor="'+a.bgcolor+'" tabindex="0" ';w=b.browser.msie?w+'classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">'+g({movie:c+
a.swf}):w+('type="application/x-shockwave-flash" data="'+c+a.swf+'">');w=w+g({wmode:"opaque",flashvars:p});p=b(w).appendTo(j)}break}case "html5audio":p=i(j,a.file,a.width,a.height,a.poster,true);break;default:p=n(j,a.file,a.width,a.height)}p.on("destroy",h)}})};b.fn.addPlayer.defaults={complete:null,swf:"player.swf",width:640,height:480,bgcolor:"#000000",auto:false,loop:false,fit:true,poster:"",folder:"",flashInstall:'<a href="http://get.adobe.com/flashplayer/">Get Adobe Flash Player!</a>'};b.fn.centerThis=
function(a){a=b.extend({},b.fn.centerThis.defaults,a);return this.each(function(){var d=b(this),c=d.find(a.selector);if(c.length){var g,h,f,n,i,k=a.marginLeft+a.padding;g=a.marginRight+a.padding;var j=a.marginTop+a.padding,p=a.marginBottom+a.padding;h=c.data("ow");f=c.data("oh");if(!h||!f){c.data("ow",h=c.width());c.data("oh",f=c.height())}if(!(n=c.data("bw")))c.data("bw",n=parseInt(c.css("border-top-width"))||0);if(!(i=c.data("pw")))c.data("pw",i=parseInt(c.css("padding-top"))||0);g=(d.width()||
b("body").width())-2*(n+i)-k-g;d=(d.height()||b("body").height())-2*(n+i)-j-p;if(a.fit&&(h>g||f>d||a.enlarge)){n=Math.min(g/h,d/f);h=Math.round(h*n);f=Math.round(f*n)}n=Math.round((g-h)/2)+k;i=Math.round((d-f)/2)+j;if(a.animate){c.stop(true,false);if(a.preScale&&a.preScale!==1){var p=h*a.preScale,w=f*a.preScale;c.css({left:Math.round((g-p)/2)+k,top:Math.round((d-w)/2)+j,width:Math.round(p),height:Math.round(w)})}else a.init&&c.css({left:n,top:i});c.animate({left:n,top:i,width:h,height:f},{duration:a.speed,
easing:a.effect,complete:a.complete})}else{c.css({left:n,top:i,width:h,height:f});b.isFunction(a.complete)&&a.complete.call(this)}}})};b.fn.centerThis.defaults={selector:".main",speed:500,fit:true,enlarge:true,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,padding:0,init:false,animate:false,effect:"swing",complete:null};b.fn.setupShop=function(a){var a=b.extend({},b.fn.setupShop.defaults,a),d;b.fn.addInput=function(a,c,d,n){var i;return!c||!a?this:this.each(function(){i=b("<input>",{type:d||
"text"}).appendTo(b(this));if(a){i.attr("name",a);i.addClass(a)}c&&i.val(typeof c==="string"?c.stripQuote():c);n&&i.prop(n,n)})};b.fn.addSelect=function(a,c,f){return!a.length?this:this.each(function(){var i=b(this),i=b("<select>").appendTo(i);for(d=0;d<a.length;d++)i.append(b("<option>",{val:a[d].val,text:a[d].key+" ("+c+" "+a[d].val+")"}));b.isFunction(f)&&i.change(f)})};var c=function(a){var a=a.split("::"),b,c=[];for(d=0;d<a.length;d++){b=a[d].split("=");b.length>1&&c.push({key:b[0],val:b[1]})}return c};
return this.each(function(){var d=b(this),h,f,i;d.readData(a,"gateway,id,currency,handling,options,file");if(!(a.id==null||a.options==null||a.file==null)){id=a.gateway=="paypal"?{form:"paypal",seller:"business",currency:"currency_code",title:"item_name",select:"item_number",price:"amount",copies:"quantity",shipprice:"shipping",handling:"handling_cart",shopUrl:"shopping_url"}:{form:"google_checkout",currency:"item_currency_1",title:"item_name_1",select:"item_description_1",price:"item_price_1",copies:"item_quantity_1",
shipmethod:"ship_method_name_1",shipprice:"ship_method_price_1",shipcurrency:"ship_method_currency_1"};var k=c(a.options);a.id=a.id.replace("|","@");var m=function(){var b=h.length?h.children("select").eq(0):false;if(b&&b.length){var c,b=b.val().split("+");q=h.children("[name=copies]").val()||1;if(a.quantityCap&&q>a.quantityCap)h.children("[name=copies]").val(q=a.quantityCap);(c=h.children("[name=total]"))&&c.val((b[0]*q).toFixed(2));(c=f.children("[name="+id.price+"]"))&&c.val(b[0]);(c=f.children("[name="+
id.copies+"]"))&&c.val(q);if(c=f.children("[name="+id.shipprice+"]"))c.val(b.length>1?b[1]:0);(c=f.children("[name="+id.select+"]"))&&c.val(h.find("option:selected").text())}};h=b("<form>",{name:"shopping",method:"post"}).appendTo(d);h.addSelect(k,a.currency,m);a.quantityCap!=1&&h.append("x").addInput("copies",1);h.append("=").addInput("total",k[0].val.split("+")[0],"text","readonly");h.children("[name=copies]").css({width:"3em"}).change(m);h.children("[name=total]").css({width:"5em"});h.append(a.currency);
if(a.gateway==="paypal"){i=k[0].val.split("+");f=b("<form>",{name:id.form,target:a.target,action:"https://www.paypal.com/cgi-bin/webscr/",method:"post"}).appendTo(d);f.addInput("cmd","_cart","hidden");f.addInput("add",1,"hidden");f.addInput(id.seller,a.id,"hidden");f.addInput(id.copies,1,"hidden");f.addInput(id.price,i[0],"hidden");f.addInput(id.currency,a.currency,"hidden");f.addInput(id.shipprice,i[1]&&b.isNumeric(i[1])?i[1]:0,"hidden");a.handling!=null&&b.isNumeric(a.handling)&&f.addInput(id.handling,
a.handling,"hidden");f.addInput(id.title,decodeURIComponent(a.path+a.file),"hidden");f.addInput(id.select,k[0].key,"hidden");f.addInput(id.shopUrl,window.location.href,"hidden");f.addInput("charset","utf-8","hidden");f.addInput("lc",a.locale,"hidden");f.append(b("<input>",{id:"shopAdd",type:"image",name:"submit",src:"https://www.paypal.com/en_US/i/btn/btn_cart_SM.gif",alt:"Add to Cart"}));i=b("<form>",{"class":"view",name:"paypalview",target:a.target,action:"https://www.paypal.com/cgi-bin/webscr/",
method:"post"}).appendTo(d);i.addInput("cmd","_cart","hidden");i.addInput("display",1,"hidden");i.addInput(id.seller,a.id,"hidden");i.addInput("lc",a.locale,"hidden");i.append(b("<input>",{id:"shopView",type:"image",name:"submit",src:"https://www.paypal.com/en_US/i/btn/btn_viewcart_SM.gif",alt:"View Cart"}))}else if(a.gateway==="google"){m=a.id.match(/(\d+)/)[0];f=b("<form>",{name:id.form,target:a.target,action:"https://checkout.google.com/cws/v2/Merchant/"+m+"/checkoutForm",method:"post","accept-charset":"utf-8"}).appendTo(d);
f.addInput(id.title,decodeURIComponent(a.path+a.file),"hidden");f.addInput(id.select,k[0].key,"hidden");f.addInput(id.copies,1,"hidden");f.addInput(id.price,k[0].val.split("+")[0],"hidden");f.addInput(id.currency,a.currency,"hidden");if(a.shipping!=null&&b.isNumeric(a.shipping)){f.addInput(id.shipmethod,"normal","hidden");f.addInput(id.shipprice,a.shipping,"hidden");f.addInput(id.shipcurrency,a.currency,"hidden")}f.addInput("_charset_","","hidden");f.append(b("<input>",{id:"shopAdd",type:"image",
name:"Google Checkout",alt:"Fast checkout through Google",src:"http://checkout.google.com/buttons/checkout.gif?merchant_id="+m+"&w=160&h=43&style=trans&variant=text&loc=en_US",height:43,width:160}))}f.add(i).find("input[name=submit]").on("submit",function(){window.open("",a.target,"width=960,height=600,scrollbars=yes,resizable=yes,menubar=no,toolbar=no,directories=no,status=no,copyhistory=no");return true})}})};b.fn.setupShop.defaults={target:"ShoppingCart",currency:"EUR",gateway:"paypal",locale:"US",
quantityCap:0};var la=function(a){if(a==null)return null;if(typeof a==="string"){a=/^(-?[\d.]+),\s?(-?[\d.]+)$/.exec(a);return new google.maps.LatLng(a[1],a[2])}return new google.maps.LatLng(a[0],a[1])};b.fn.setupMap=function(a){if(!google||!google.maps)return this;var a=b.extend({},b.fn.setupMap.defaults,a),d=a.markerPath==null?{}:{icon:new google.maps.MarkerImage(a.markerPath,new google.maps.Size(17,24),new google.maps.Point(0,0),new google.maps.Point(8,24)),shadow:new google.maps.MarkerImage(a.markerPath,
new google.maps.Size(28,24),new google.maps.Point(17,0),new google.maps.Point(8,24)),zIndex:9999},c=a.markerPath==null?{}:{icon:new google.maps.MarkerImage(a.markerPath,new google.maps.Size(17,21),new google.maps.Point(45,3),new google.maps.Point(8,24)),shadow:new google.maps.MarkerImage(a.markerPath,new google.maps.Size(28,21),new google.maps.Point(62,3),new google.maps.Point(8,24))};return this.each(function(){var g=b(this),h,f,i,k,m;g.readData(a,"type,zoom,map,label,resPath,markers");var j=function(){if(g.data("fresh"))if(g.is(":visible")&&
!g.parents(":hidden").length&&g.width()&&g.height()){clearTimeout(m);g.width(g.parents(".cont").width()-30);google.maps.event.trigger(i,"resize");i.setCenter(h);g.data("fresh",false)}else m=setTimeout(j,200)};k&&k.length&&k.remove();k=b("<div>").css({position:"absolute",top:"-9000px",width:g.width(),height:g.height()}).appendTo("body");g.data("fresh",true).on({adjust:j,destroy:function(){i.getParentNode().removeChild(i);b(window).unbind("resize",j)}});if(a.markers&&a.markers.length&&a.curr!=null)h=
a.markers[a.curr].map;else if(a.map){h=la(a.map);f=a.label}else return;setTimeout(function(){var p=new google.maps.Map(k[0],{zoom:a.zoom,center:h,mapTypeId:a.type.toLowerCase()});google.maps.event.addListener(p,"maptypeid_changed",function(){b.fn.setupMap.defaults.type=p.getMapTypeId()});google.maps.event.addListener(p,"zoom_changed",function(){b.fn.setupMap.defaults.zoom=p.getZoom()});if(a.markers&&a.markers.length>1)for(var j,m,r=Math.min(a.curr+a.range,a.markers.length),v=Math.max(a.curr-a.range,
0);v<r;v++){m=a.markers[v];j={position:m.map,map:p,title:m.label,zIndex:v};if(v==a.curr)j=new google.maps.Marker(b.extend(j,d));else{j=new google.maps.Marker(b.extend(j,c));if(jQuery.isFunction(a.click)&&m.link){j.link=m.link;google.maps.event.addListener(j,"click",function(){a.click.call(this)})}}}else j=new google.maps.Marker(b.extend({position:h,map:p,title:f},d));k.css({top:0}).appendTo(g);i=p},20);b(window).resize(function(){clearTimeout(m);g.data("fresh",true);m=setTimeout(j,100)})})};b.fn.setupMap.defaults=
{type:"roadmap",zoom:16,range:30};b.fn.markFoldersNew=function(a){a=b.extend({},b.fn.markFoldersNew.defaults,a);if(a.markNewDays){var d=Math.round((new Date).getTime()/864E5);return this.each(function(){d-parseInt(b(this).data("modified")||0)<=a.markNewDays&&b(this).after(a.newLabel)})}};b.fn.markFoldersNew.defaults={markNewDays:7,newLabel:"NEW"};b.fn.turtleHelp=function(a,d){var a=b.extend({},b.fn.turtleHelp.defaults,a),d=b.extend({},b.fn.turtleHelp.texts,d),c=b(a.templ.template(d.help));a.useF1&&
!b.support.touch&&b(document).keydown(function(d){if(document.activeElement&&document.activeElement.nodeName==="INPUT"||b.isFunction(a.enableKeyboard)&&!a.enableKeyboard()||b("#modal:visible").length)return true;if((d?d.keyCode:window.event.keyCode)===112){c.alertBox({width:680});return false}return true});return this.each(function(){b(this).click(function(){c.alertBox({width:680});return false})})};b.fn.turtleHelp.defaults={useF1:true};b.fn.turtleHelp.texts={help:["Using Turtle gallery","Top <b>navigation</b> bar with <b>Home</b> button",
"<b>Up</b> one level <em>Up arrow</em>","Author or company <b>information</b>","<b>Share</b> and <b>Like</b> buttons for social networking","<b>Search</b> button","Start slideshow <em>Numpad *</em>","Previous image <em>Left arrow</em>","Back to index page <em>Esc</em>","Toggle zoom (fit/1:1) <em>Numpad +</em>","Toggle info window <em>Numpad -</em>","Toggle thumbnail scoller","Start / Stop slideshow <em>Numpad *</em>","Next image <em>Right arrow</em>","Swipe for previous / next image"]};b.fn.turtleGallery=
function(a,d,c){a=b.extend({},b.fn.turtleGallery.defaults,a);d=b.extend({},b.fn.turtleGallery.texts,d);c=b.extend({},b.fn.turtleGallery.ids,c);setTimeout(function(){if(!a.licensee&&(typeof _jaShowAds==UNDEF||_jaShowAds)&&location.protocol.startsWith("http")&&!r("ls")){var c=a.resPath+"/logo.png";b(new Image).load(function(){b("<div>").css({background:"url("+c+") 10px top no-repeat",textAlign:"left",minHeight:"60px",paddingLeft:"90px"}).html("<h3>Turtle skin<h3></h3><p>Unlicensed</p>").popupBox();
r("ls",true)}).attr("src",c)}},1E3);for(var g=["thumbsOn","infoOn","metaOn","mapOn","regionsOn","shopOn","shareOn","printOn","fitImage"],h=function(b,c){location.protocol.startsWith("file")||r(b,c);a[b]=c},f,i=0;i<g.length;i++)if(f=r(g[i]))a[g[i]]=f;if(b.support.touch)a.preScale=false;b.fn.setupMap.defaults.zoom=a.mapZoom;b.fn.setupMap.defaults.type=a.mapType;b.fn.setupMap.defaults.markerPath=a.markerPath;b.fn.setupShop.defaults.gateway=a.shopGateway;b.fn.setupShop.defaults.id=a.shopId;b.fn.setupShop.defaults.path=
(a.albumName||"")+": "+a.relPath;b.fn.setupShop.defaults.currency=a.shopCurrency||"EUR";b.fn.setupShop.defaults.handling=a.shopHandling||null;b.fn.setupShop.defaults.locale=a.shopLocale||"US";b.fn.setupShop.defaults.quantityCap=a.shopQuantityCap||0;b.fn.addPlayer.defaults.bgcolor=b("body").css("background-color").rgb2hex();b.fn.addPlayer.defaults.fit=a.videoFit;b.fn.addPlayer.defaults.auto=a.videoAuto;b.fn.centerThis.defaults.fit=a.fitImage;b.fn.centerThis.defaults.animate=a.transitions;b.fn.centerThis.defaults.padding=
a.fitPadding;b.fn.centerThis.defaults.enlarge=!a.fitShrinkonly;b.fn.centerThis.defaults.selector="."+c.main;for(i in a.shares)b.fn.shareIt.defaults[i]=a.shares[i];b.fn.shareIt.defaults.callTxt=d.checkOutThis;var k=function(b){var d=b.data(c.caption);if(d)return d.stripHTML();return(b=b.closest("a"))?b.attr("href").replace(RegExp("^"+a.slides+"\\/"),""):""},m='<span class="'+c.newItem+'">'+d.newItem+"</span>",j=Math.round((new Date).getTime()/864E5);return this.each(function(){var g=b(this).find("li > a"),
f,i,n,v,r,x,A,M,y,D,N,F,I,W,J,X,K,T,P,Q,O,z=null,E=null,B=0,S,ma,na=b(window).width(),oa=b(window).height(),pa=[],Da=function(d){if(document.activeElement&&(document.activeElement.nodeName==="INPUT"||document.activeElement.nodeName==="TEXTAREA")||b.isFunction(a.enableKeyboard)&&!a.enableKeyboard()||b("#modal:visible").length)return true;d=d?d.keyCode:window.event.keyCode;if(f.is(":visible"))switch(d){case 106:case 179:S?U():Z();break;case 109:if(a.infoOn||a.thumbsOn){qa();ra()}else{sa();ta()}break;
case 107:a.fitImage?ua():va();break;case 27:aa();break;case 103:case 36:G(0);break;case 37:wa();break;case 39:var d=b("."+c.main),h=b("."+c.img);if(d.length)if(d.position().left+d.outerWidth()<=h.width()-a.fitPadding)V();else{var i=Math.round(h.width()*0.8);d.animate({left:Math.max(d.position().left-i,h.width()-a.fitPadding-d.outerWidth())},a.scrollDuration)}break;case 37:wa();break;case 38:d=b("."+c.main);h=b("."+c.img);if(d.length&&!(d.position().top>a.fitPadding)){h=Math.round(h.width()*0.8);d.animate({top:Math.min(d.position().top+
h,a.fitPadding)},a.scrollDuration)}break;case 40:d=b("."+c.main);h=b("."+c.img);if(d.length&&!(d.position().top+d.outerHeight()<=h.height()-a.fitPadding)){i=Math.round(h.width()*0.8);d.animate({top:Math.max(d.position().top-i,h.height()-a.fitPadding-d.outerHeight())},a.scrollDuration)}break;case 97:case 35:G(g.length-1);break;default:return true}else switch(d){case 13:case 10:G();break;case 103:case 36:B=0;Y();break;case 37:B=(B?B:g.length)-1;Y();break;case 39:B=(B+1)%g.length;Y();break;case 97:case 35:B=
g.length-1;Y();break;default:return true}return false},ga=function(){window.location.href=a.uplink||"../"},aa=function(){var c=b("[role=main]");if(f.is(":visible")){U();if(a.skipIndex)ga();else{if(c.length&&c.is(":hidden")){c.children().andSelf().css({visibility:"visible",display:"block"});c.find(".folders>ul>li").equalHeight();c.find(".thumbs>ul>li p").length&&c.find(".thumbs>ul>li").equalHeight();c.find("[role=scroll]").trigger("adjust")}a.transitions?f.fadeOut(a.speed):f.hide();a.hash!=="no"&&
b.history.load("")}}else c.length&&c.is(":hidden")&&c.children().andSelf().css({visibility:"visible",display:"block"});c.find("[role=scroll]").data("dragOn",false)},Ea=function(a){var b;if(a==null)b=B;else if(typeof a==="number")b=Math.minMax(0,a,g.length);else if((b=g.index(a))<0)b=T.index(a);return b},Fa=function(a){var b,c;for(b=0;b<g.length;b++)if((c=g.eq(b).attr("href"))&&c.substring(c.lastIndexOf("/")+1)===a)return b;return-1},xa=function(){var a=g.eq(B).attr("href");return a&&a.substr(a.lastIndexOf("/")+
1)},Y=function(){g.filter("."+c.active).removeClass(c.active);g.eq(B).addClass(c.active);T.eq(B).trigger("setactive")},wa=function(){var d=b("."+c.main),g=b("."+c.img);if(d.length)if(d.position().left>=a.fitPadding)ca();else{g=Math.round(g.width()*0.8);d.animate({left:Math.min(d.position().left+g,a.fitPadding)},a.scrollDuration)}},ca=function(){U();B?G(B-1):a.afterLast==="startover"?G(g.length-1):z.find("."+c.main).trigger("dragcancel")},V=function(){if(B<g.length-1){ha();G(B+1)}else if(a.afterLast===
"startover"||S&&a.slideshowLoop){ha();G(0)}else{if(a.afterLast==="onelevelup"){if(a.uplink){ga();return}}else if(a.afterLast==="backtoindex"){if(!a.skipIndex){aa();return}}else if(a.afterLast==="ask"){U();var f=Array({t:d.startOver,h:function(){G(0)}});a.uplink&&f.push({t:a.level>0?d.upOneLevel:d.homepageLinkText||d.backToHome,h:function(){ga()}});a.skipIndex||f.push({t:d.backToIndex,h:function(){aa()}});b("<h4>"+d.atLastPage+"</h4><p>"+d.atLastPageQuestion+"</p>").alertBox(f)}z.find("."+c.main).trigger("dragcancel")}},
ha=function(){if(S){clearInterval(S);S=setInterval(V,a.slideshowDelay)}},Z=function(){x.hide();A.showin();S=setInterval(V,a.slideshowDelay);L()},U=function(){A.hide();x.showin();S=clearInterval(S);L()},ya=function(){if(!Q){v.stop(true,false).css({opacity:0.7}).fadeIn(200,function(){b.support.cssFilter&&v.css("filter",null)});O=setTimeout(function(){L()},1500)}},L=function(){if(Q)O=setTimeout(function(){L()},500);else{O=clearTimeout(O);v.fadeOut(300)}},Ga=function(){if(v.is(":visible")){O=clearTimeout(O);
v.fadeOut(300)}else ya()},qa=function(){if(a.infoOn){M.hide();y.showin();a.transitions?r.animate({bottom:-r.outerHeight()},500,function(){r.hide()}):r.css({bottom:-r.outerHeight()}).hide();L();h("infoOn",false)}},sa=function(){if(!a.infoOn){y.hide();M.showin();r.is(":hidden")&&r.show().css({bottom:-r.outerHeight()});var b=function(){r.children("."+c.map).trigger("adjust")};if(a.transitions)r.animate({bottom:0},500,b);else{r.show().css({bottom:0});b()}L();h("infoOn",true)}},ra=function(){if(a.thumbsOn){D.hide();
N.showin();a.transitions?n.animate({top:-K.outerHeight()-10},500):n.css({top:-K.outerHeight()-10});z&&a.fitFreespace&&z.centerThis({fit:a.fitImage,marginTop:0});L();h("thumbsOn",false)}},ta=function(){if(!a.thumbsOn){N.hide();D.showin();a.transitions?n.animate({top:0},500):n.css({top:0});z&&a.fitFreespace&&z.centerThis({fit:a.fitImage,marginTop:K.outerHeight()});L();h("thumbsOn",true)}},ba=function(){return a.fitFreespace&&n.position().top>=0?K.outerHeight()||0:0},ua=function(){F.hide();I.showin();
z.centerThis({fit:false,marginTop:ba()});L();h("fitImage",false)},va=function(){I.hide();F.showin();z.centerThis({fit:true,marginTop:ba()});L();h("fitImage",true)},za=function(a){if(!(a<0||a>=g.length)){var d=g.eq(a).children("img").eq(0);!d.data(c.isvideo)&&(!d.data(c.isother)&&!d.data("cached")&&(s=d.data(c.src)))&&b("<img>").load(function(){d.data("cached",true)}).attr({src:s})}},da=function(a){a.trigger("destroy");a.find("."+c.share+"-"+c.icon).trigger("destroy");a.find("."+c.map).trigger("destroy")},
G=function(h){f.is(":hidden")&&(a.transitions?f.fadeIn(a.speed):f.show());h=Ea(h);if(!(h===B&&z)){var k,j=g.eq(h),m,n,j=j.children("img").eq(0);if(j.length){if(z){if(E&&E.length){E.stop();da(E);E.remove()}E=z;E.css({zIndex:0});E.find("."+c.main).trigger("unswipe").off("touchstart");E.unmousewheel()}(k=f.children("."+c.img).not(z)).length&&k.stop().remove();var r;z=b("<div>",{"class":c.img}).css({zIndex:1,display:"none"}).appendTo(f);i.css({opacity:0,display:"block"}).animate({opacity:1});B=h;Y();
var u=b("<div>",{"class":c.main});if(j.data(c.isother)||!(m=j.data(c.src))){k=Math.max(j.data(c.width)||f.width()-160,280);r=Math.max(j.data(c.height)||f.height()-120,200);n=j.clone();u.addClass(c.other);if((m=j.data(c.content))&&(m=m.trim()).length)u.css({width:k,height:r}).append(m.startsWith("http://")?b("<iframe>",{width:"100%",height:"100%",src:m,frameborder:0,allowfullscreen:"allowfullscreen"}):m);else{u.append(b("<a>",{href:j.data(c.link),target:"_blank"}));u.append(b("<p>",{text:d.clickToOpen}));
u.children("a:first").append(n)}ia(u)}else if(j.data(c.isvideo)||j.data(c.isaudio)){k=j.data(c.width)||f.width()-160;r=j.data(c.height)||f.height()-120;var v=S;v&&U();if(j.data(c.isvideo)){m=f.width()-40;n=f.height()-40;r=r+Ca(j.data(c.link));if(k>m||r>n){m=Math.min(m/k,n/r);k=Math.round(k*m);r=Math.round(r*m)}}else{k=Math.max(280,j.attr("width")||0);r=Math.max(280,j.attr("height")||0)}u.addClass(c.other).css({width:k,height:r}).data({ow:k,oh:r});el=u.addPlayer({complete:function(){if(v){V();Z()}},
file:j.data(c.link),resPath:a.resPath,poster:j.data(c.poster)||j.attr("src"),auto:a.videoAuto,fit:a.videoFit,width:k,height:r});u.data("media",el);ia(u)}else{k=j.data(c.width);r=j.data(c.height);n=b(new Image);u.addClass(c.image).append(n).css({width:k,height:r}).data({ow:k,oh:r});n.load(function(){j.data("cached",true);ia(u)}).attr({src:m,width:k||"auto",height:r||"auto"})}Ha(j,h)}}},Ia=function(a){var b=z.find("nav a."+c.regions+"-icon").eq(0);if(b.length){a=g.eq(a).find("img:first");b.addRegions(z.find("."+
c.main).eq(0),a.data(c.regions))}},ia=function(d){if(a.transitions){i.stop(true,false).animate({opacity:0},{duration:100,complete:function(){b(this).hide()}});if(E){var f=E;E.stop(true,false).animate({opacity:0},{duration:a.speed/2,complete:function(){da(f);f.remove()}});E=null}}else{i.hide();if(E){E.stop();da(E);E.remove()}}var h=d.hasClass(c.image);z.children().not("."+c.bottom).remove();z.append(d);if(a.rightClickProtect)d.on("contextmenu",function(a){a.preventDefault();return false});a.enableMouseWheel&&
z.mousewheel(function(a,b){b>0?ca():V();return false});setTimeout(function(){if(b.support.touch)d.on("touchstart",Ga);else g.length>1&&h&&d.click(function(){V()});g.length>1&&d.addSwipe(function(){b(this).trigger("unswipe");V()},function(){b(this).trigger("unswipe");ca()})},a.speed/2);a.transitions?z.css({opacity:0,display:"block"}).animate({opacity:1},{duration:a.speed,complete:b.browser.cssFilter?function(){z.css({filter:""})}:null}).centerThis({init:true,speed:Math.round(a.speed*0.75),marginTop:ba(),
preScale:h&&a.preScale,animate:h&&a.preScale&&a.preScale!=1,fit:a.fitImage}):z.show().centerThis({init:true,marginTop:ba(),fit:a.fitImage});Ia(B);za(B+1);za(B-1);if(a.hash==="number")b.history.load(B+1);else if(a.hash==="fileName"){var j=xa();j&&b.history.load(j)}},Ha=function(f,i){r=b("<div>",{"class":c.bottom});z.append(r);var j=b("<div>",{"class":c.cont}).appendTo(r),m=b("<nav>").appendTo(j),n,v,w=Math.round(z.width()*0.8)-30;j.width()>w&&j.width(w);a.showImageNumbers&&j.append('<div class="nr"><strong>'+
(i+1)+"</strong> / "+g.length+"</div>");(n=f.data(c.caption))&&j.append(n);for(var y,x,A=[c.meta,c.map,c.shop,c.share,c.print,c.comment],C=0;C<A.length;C++){x=A[C];if(f.data(x)!=null){y=b("<div>",{"class":c.panel+" "+c[x]}).data("rel",x).appendTo(j);y.append(b("<div>",{"class":c.icon}));w=b("<a>",{href:NOLINK,"class":x+"-"+c.icon,text:" "}).appendTo(m);w.data("rel",x).addHint(d[x+"Btn"]||x);w.click(function(){var d=b(this).data("rel"),f=j.children("."+d);o=f.is(":hidden");b(this).toggleClass(c.active,
o);if(d===c.map){var g=function(){o&&f.children("."+c.mapcont).trigger("adjust")};if(a.transitions)f.slideToggle("fast",g);else{f.toggle();setTimeout(g,50)}}else a.transitions?f.slideToggle("fast"):f.toggle();h(d+"On",o)})}}if(!f.data(c.isvideo)&&!f.data(c.isaudio)&&!f.data(c.isother)){if(a.fotomotoOn){var D=b("<a>",{href:NOLINK,"class":c.fotomoto+"-"+c.icon,text:" "}).appendTo(m);D.addHint(location.protocol.startsWith("file:")?d.locationWarning:d.fotomotoHint);setTimeout(function(){typeof FOTOMOTO!==
UNDEF&&!location.protocol.startsWith("file:")&&D.click(function(){FOTOMOTO.API.showWindow(10,f.attr("src").replace(a.thumbs+"/",a.slides+"/"));return false})},a.speed)}if(f.data(c.regions)){w=b("<a>",{href:NOLINK,"class":c.regions+"-"+c.icon,text:" "}).appendTo(m);a[c.regions+"On"]&&w.addClass(c.active);w.click(function(){h(c.regions+"On",!b(this).hasClass(c.active))})}}if(!a.rightClickProtect&&(n=f.data(c.link))){w=b("<a>",{href:n,"class":c.link+"-"+c.icon,target:"_blank",text:" "}).appendTo(m);
w.addHint("<strong>"+(f.data(c.isoriginal)?d.original:d.hiRes)+"</strong><br><small>"+d.saveTip+"</small>")}if(a.shareOn){var E=b("<a>",{href:NOLINK,"class":c.share+"-"+c.icon,text:" "}).appendTo(m);v=a.hash==="number"?B+1:xa();setTimeout(function(){E.shareIt({hash:v})},a.speed)}z.append(r);j.children("."+c.panel).each(function(){y=b(this);if((x=y.data("rel"))&&(n=f.data(x))!=null){if(x===c.map){var d=b("<div>",{"class":c.mapcont}).appendTo(y);d.width(j.width()-30);a.mapAll?d.setupMap({click:function(){G(this.link)},
markers:pa,curr:parseInt(f.data(c.mapid))}):d.setupMap({map:n,label:k(f)});setTimeout(function(){d.trigger("adjust")},a.speed)}else x===c.shop?y.addClass("clearfix").setupShop({file:f.attr("src").replace("thumbs/",""),options:n}):y.append(n);a[x+"On"]?m.children("a."+x+"-icon").addClass(c.active):y.hide()}});m.html().length||m.remove();a.infoOn||r.hide()},Ja=function(f){f=b("<nav>",{"class":"controls clearfix"}).appendTo(f);W=b("<a>",{"class":c.prev,title:d.previousPicture}).appendTo(f);W.click(function(){U();
ca();return false});J=b("<a>",{"class":c.up,title:a.skipIndex?d.upOneLevel:d.backToIndex}).appendTo(f);J.click(function(){U();aa();return false});F=b("<a>",{"class":c.noresize,title:d.oneToOneSize}).appendTo(f);F.click(function(){ua();return false});I=b("<a>",{"class":c.resize,title:d.fitToScreen}).appendTo(f);I.click(function(){va();return false});if(a.fitImage){I.hide();F.showin()}else{F.hide();I.showin()}M=b("<a>",{"class":c.hideInfo,title:d.hideInfo}).appendTo(f);M.click(function(){qa();return false});
y=b("<a>",{"class":c.showInfo,title:d.showInfo}).appendTo(f);y.click(function(){sa();return false});if(a.infoOn){y.hide();M.showin()}else{M.hide();y.showin()}D=b("<a>",{"class":c.hideThumbs,title:d.hideThumbs}).appendTo(f);D.click(function(){ra();return false});N=b("<a>",{"class":c.showThumbs,title:d.showThumbs}).appendTo(f);N.click(function(){ta();return false});if(a.thumbsOn){N.hide();D.showin()}else{D.hide();N.showin()}x=b("<a>",{"class":c.play,title:d.startAutoplay}).appendTo(f);x.click(function(){Z();
return false});A=b("<a>",{"class":c.pause,title:d.stopAutoplay}).appendTo(f);A.click(function(){U();return false});if(a.slideshowAuto){x.hide();A.showin()}else{A.hide();x.showin()}X=b("<a>",{"class":c.next,title:d.nextPicture}).appendTo(f);X.click(function(){ha();V();return false});var g=0;f.children().each(function(){b(this).css("display")!=="none"&&(g=g+b(this).outerWidth())});f.width(g);f.children("a").addHint();return f},Ka=function(d){var f,h,i,k,n,r=0;e=b("<div>",{"class":c.scrollbox}).appendTo(d);
tc=b("<div>",{"class":"wrap"}).appendTo(e);tc=b("<ul>",{"class":c.cont}).appendTo(tc);g.each(function(u){d=b(this);if(a.rightClickProtect)d.on("contextmenu",function(a){a.preventDefault();return false});k=d.find("img").eq(0);n=d.attr("href");if(k.length&&n){h=b("<a>",{href:NOLINK}).appendTo(b("<li>").appendTo(tc));i=b("<img>").appendTo(h);k.data(c.src,n);k.attr("src").endsWith("/"+a.loadImg)?k.add(i).attr("src",a.thumbs+"/"+n.substring(n.lastIndexOf("/")+1).fixExtension()):i.attr("src",k.attr("src"));
if((f=d.attr("title"))&&f.length)d.add(h).addHint(f);else{f=d.next();f.length&&h.addHint(f.html())}a.markNewDays&&j-parseInt(k.data(c.modified)||0)<=a.markNewDays&&d.add(h).append(m);d.click(function(){if(b(this).parents("[role=scroll]").data("dragOn")===true)return false;if(!b(this).hasClass(c.active)&&z&&z.length){z.stop();da(z);z.remove()}G(g.eq(u));return false});h.click(function(){if(b(this).parents("[role=scroll]").data("dragOn")===true)return false;b(this).hasClass(c.active)||G(g.eq(u));b(this).trigger("active");
return false});r=r+h.outerWidth(true)}});tc.width(r).scrollThumbs({enableMouseWheel:a.enableMouseWheel});return e};if(g.length){(function(){if(a.header!=null){var f=b(a.header);if(f.length){if(a.showStart){var g=b("<div>",{"class":c.startBtn,text:" "}).appendTo(f),h=b("<div>",{"class":c.startTxt,text:d.startSlideshow}).appendTo(f);g.mouseenter(function(){h.stop(true,false).css({opacity:1}).hide().fadeIn(250)}).mouseleave(function(){h.stop(true,false).fadeOut(500)}).click(function(){G();Z();return false})}g=
f.find("."+c.parent+">a");if(g.length)a.uplink=g.attr("href")}}})();f=b("<div>",{"class":c.gallery}).attr("role","gallery").appendTo("body");i=b("<div>",{"class":c.wait}).appendTo(f);n=b("<div>",{"class":c.navigation}).appendTo(f);K=Ka(n);T=K.find(".cont a");v=Ja(n);a.thumbsOn||n.css("top",-K.outerHeight()-10);K.mouseenter(function(){L();P=true}).mouseleave(function(){P=false});v.mouseenter(function(){Q=true;b(this).stop(true,false).fadeTo(200,1)}).mouseleave(function(){Q=false;b(this).stop(true,
false).fadeTo(200,0.7)});var Aa=0,Ba=0;b.support.touch||f.mousemove(function(a){if(!P&&(Aa-a.clientY||Ba-a.clientX)){ya();Ba=a.clientX;Aa=a.clientY}});if(a.mapAll){var ea,fa,ja;g.each(function(a){ea=b(this).find("img:first");if(ea.length&&(fa=ea.data("map"))&&(fa=la(fa))){ja=k(ea);pa.push({map:fa,label:a+1+(ja?": "+ja.stripHTML():""),link:b(this)})}})}!b.support.touch&&(b.isFunction(a.enableKeyboard)||a.enableKeyboard)&&b(document).keydown(Da);a.hash&&a.hash!=="no"&&b.history.init(function(c){var d;
if(c&&c.length&&(d=a.hash==="number"?(parseInt(c)||1)-1:Fa(c))>=0&&d<g.length){G(d);a.slideshowAuto=false}else{aa();b.browser.msie&&setTimeout(function(){b("[role=main]").show();b(".folders>ul>li").equalHeight();b("[role=scroll]").trigger("adjust")},10)}});Y(B);if(a.slideshowAuto){G(B);Z()}else a.skipIndex&&G(B);b(window).resize(function(){clearTimeout(ma);ma=setTimeout(function(){var c=b(window).width(),d=b(window).height();if(c!==na||d!==oa){z&&z.centerThis({fit:a.fitImage,marginTop:ba()});na=c;
oa=d}},100)})}})};b.fn.turtleGallery.defaults={hash:"fileName",resPath:"",relPath:"",level:0,skipIndex:false,showStart:true,speed:600,transitions:true,preScale:0.95,slideshowDelay:3E3,slideshowLoop:false,slideshowAuto:false,markNewDays:30,afterLast:"ask",infoOn:true,showImageNumbers:true,thumbsOn:false,fitImage:true,fitShrinkonly:true,fitFreespace:true,fitPadding:15,borderWidth:10,rightClickProtect:false,metaOn:false,mapOn:false,shopOn:false,fotomotoOn:false,shareOn:false,printOn:false,enableKeyboard:true,
enableMouseWheel:true,numberLinks:false,videoAuto:true,videoFit:true,videoWidth:640,videoHeight:480,scrollDuration:1E3};b.fn.turtleGallery.texts={startSlideshow:"Start slideshow",close:"Close",atLastPage:"At last page",atLastPageQuestion:"Where to go next?",startOver:"Start over",backToHome:"Back to home",stop:"Stop",upOneLevel:"Up one level",backToIndex:"Back to index page",previousPicture:"Previous picture",nextPicture:"Next picture",oneToOneSize:"1:1 size",fitToScreen:"Fit to screen",showInfo:"Show caption / info",
hideInfo:"Hide caption / info",showThumbs:"Show thumbnails",hideThumbs:"Hide thumbnails",startAutoplay:"Start autoplay",stopAutoplay:"Stop autoplay",closeWindow:"Close window",clickToOpen:"Click to open this document with the associated viewer",download:"Download",original:"Original",hiRes:"Hi res.",saveTip:"Use Right click -> Save link as... to download",metaBtn:"Photo data",metaLabel:"Display photograpic (Exif/Iptc) data",mapBtn:"Map",mapLabel:"Show the photo location on map",shopBtn:"Buy",shopLabel:"Show options to buy this item",
shareBtn:"Share",shareLabel:"Share this photo over social sites",locationWarning:"Works only when uploaded"};b.fn.turtleGallery.ids={gallery:"gallery",navigation:"navigation",scrollbox:"scrollbox",active:"active",parent:"parent",bottom:"bottom",img:"img",main:"main",image:"image",video:"video",audio:"audio",other:"other",wait:"wait",cont:"cont",panel:"panel",icon:"icon",caption:"caption",meta:"meta",map:"map",mapcont:"mapcont",mapid:"mapid",shop:"shop",fotomoto:"fotomoto",share:"share",print:"print",
comment:"comment",link:"link",poster:"poster",isoriginal:"isoriginal",content:"content",width:"width",height:"height",src:"src",regions:"regions",isvideo:"isvideo",isaudio:"isaudio",isother:"isother",modified:"modified",startBtn:"startbtn",startTxt:"starttxt",prev:"prev",next:"next",up:"up",noresize:"noresize",resize:"resize",hideInfo:"hideinfo",showInfo:"showinfo",hideThumbs:"hidethumbs",showThumbs:"showthumbs",play:"play",pause:"pause",newItem:"newlabel",showHint:"showhint"}})(jQuery);